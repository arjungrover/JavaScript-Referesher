<!DOCTYPE html>
    <head>
        <title>Day2</title>
        <script>
            function myfunc(p1){
                var localVariable = "juno";
                document.getElementById("2").innerHTML = localVariable;
                if(p1==0)
                    return 1; 
                // return p1* myfunc(p1-1);

            }
            //outside function
            document.getElementById("3").innerHTML = localVariable;

            function objectDemo(){

                var obj = {name:"juno", age:"23", likes:"music"};
                // alert(obj.name);   //object properties   name = property juno = property value
                // alert(obj.age);
                // alert(obj.likes);

                // alert("Demo triggered");
                // var a = obj(name);
                // alert(a);
                // alert(obj("name"));  //way of invocation   //not working



                var Person = {firstName: "juno", 
                              lastName: "oo", 
                              age: "23",
                              bio : function(){
                                //  this refers to owner of method i.e. Person object
                                  return this.firstName +"."+this.lastName+"."+this.age;
                              }
                              
                              };
                            
                // In a method, this refers to the owner object.
                // Alone, this refers to the global object.
                // In a function, this refers to the global object.
                // In an event, this refers to the element that received the event.
                alert(Person.firstName);
                alert(Person.bio());    //OBJECT METHOD INVOCATION

            }

            function thisDemo(){
                // In a JavaScript function, the owner of the function is the default binding 
                // for this. so, in a function, this refers to the Global object [object Window].
                alert("invoked");
                alert(this);   //[object window]
                return this;
            }

            function thisDemo2(){

                var Person1 = {
                        firstName: "abc",
                        lastName: "not imp",
                        fullName: function(){
                            return this.firstName+".."+this.lastName;
                        }
                };
                var Person2 = {
                                firstName: "def",
                                lastName: "eeee",
                };

                alert(Person1.fullName());   //abc..not imp
                // when calling person1.fullName with person2 as argument, this will refer to person2, 
                // even if it is a method of person1
                alert(Person1.fullName.call(Person2));   //def..eeee
            }


        </script>
    
    </head>
    <body>
       <h3>Lets learn JavaScript Functions!!</h3>
       <p id="1"></p>
       <p id="2"></p>
       <p id="3"></p>
       <h1 id="4"></h1>

       <!-- HTML events allow you to write some JS -->
       <button type="button" onclick="document.getElementById('1').innerHTML=myfunc(5)">Lets Invoke Function</button>
       
       
       <button type="button" onclick="objectDemo()">Object Demo</button>
       
       <!-- [object window] -->
       <button type="button" onclick="document.getElementById('4').innerHTML=thisDemo()">this DEMO</button>    
       <!-- <button type="button" onclick="document.getElementById('1').innerHTML=myfunc">Lets Invoke Function</button> -->
        <!-- it will return  function myfunc(p1){ if(p1==0) return 1; return p1* myfunc(p1-1); }-->
        
        <button type="button" onclick="thisDemo2()">call function DEMO</button>


        <button type="button" onclick="alert(Date())">displayDate event demo</button>

        <script>
            // When used alone, the owner is the Global object, so this refers to the 
            // Global object.In a browser window the Global object is [object Window]:
            var x = this;
            document.getElementById("3").innerHTML = x;    //[object window]
        </script>


    </body>
</html>